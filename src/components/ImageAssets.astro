---
// https://docs.astro.build/es/guides/images/
// import { Image } from 'astro:assets'

const {
  src='',
  alt='',
  className='',
  loading='lazy',
  ...attrs
} = Astro.props

const baseUrl = new URL(Astro.site)   

export function ImageBackground(src='') {
  const baseUrl = new URL(Astro.site)  
  return src.includes('/') ? `url(${baseUrl}assets/${src})` : src
}

export function ImageSrc(src='') {
  const baseUrl = new URL(Astro.site)  
  return `${baseUrl}assets/${src}`
}
---

<img 
  src={`${baseUrl}assets/${src}`}
  alt={alt}
  class={`image-assets initial ${className}`}
  decoding="async"
  fetchpriority={loading==='lazy' ? 'low' : 'high'}
  loading={loading}
  {...attrs}
/>
